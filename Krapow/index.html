<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>กะเพราเร้าใจ</title>
    <link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="assets/js/main.js"></script>
  </head>
  <body class="app">
    <header class="app-bar elevation-1">
      <div class="container">
        <div class="app-bar__inner">
          <h1 class="app-title">กะเพราเร้าใจ</h1>
        </div>
        <nav class="tabs" aria-label="Greenhouse tabs">
          <button class="tab tab--active" data-gh="0">KP 1</button>
          <button class="tab" data-gh="1">KP 2</button>
          <button class="tab" data-gh="2">KP 3</button>
          <button class="tab" data-gh="3">KP 4</button>
          <button class="tab" data-gh="4">KP 5</button>
          <button class="tab" data-gh="5">KP 6</button>
          <button class="tab" data-gh="6">KP 7</button>
          <button class="tab" data-gh="7">KP 8</button>
          <button class="tab" data-gh="8">KP 9</button>
          <button class="tab" data-gh="9">KP 10</button>
        </nav>
      </div>
    </header>

    <main class="container main">
      <section class="metrics">
        <div class="card elevation-1">
          <div class="card__label">Temperature</div>
          <div class="card__value"><span id="tempValue">--</span> °C</div>
          <div class="card__hint">Target: 24–28 °C</div>
        </div>
        <div class="card elevation-1">
          <div class="card__label">Humidity</div>
          <div class="card__value"><span id="humValue">--</span> %</div>
          <div class="card__hint">Target: 55–70 %</div>
        </div>
        <div class="card elevation-1">
          <div class="card__label">Soil Moisture</div>
          <div class="card__value"><span id="soilValue">--</span> %</div>
          <div class="card__hint">Target: 35–55 %</div>
        </div>
        <div class="card elevation-1">
          <div class="card__label">Light</div>
          <div class="card__value"><span id="lightValue">--</span> lux</div>
          <div class="card__hint">Photoperiod: 12–16 h</div>
        </div>
      </section>

      <section class="content">
        <div class="panel elevation-1 content__chart">
          <div class="panel__header">
            <h2 class="panel__title">Temperature (last hour)</h2>
            <div class="panel__meta" id="chartStatus">mock data</div>
          </div>
          <div class="panel__body">
            <canvas id="tempChart" height="120"></canvas>
          </div>
        </div>

        <div class="panel elevation-1 content__controls">
          <h2 class="panel__title">Controls</h2>
          <div class="control-form">
            <div class="field">
              <label for="modeSelect" class="field__label">Mode</label>
              <select id="modeSelect" class="select">
                <option value="pulse">Pulse</option>
                <option value="on">On</option>
                <option value="off">Off</option>
              </select>
            </div>
            <div class="field">
              <label for="durationInput" class="field__label">Duration (s)</label>
              <input id="durationInput" type="number" min="1" value="10" class="input" />
            </div>
            <div class="field">
              <label for="delayInput" class="field__label">Delay (s)</label>
              <input id="delayInput" type="number" min="0" value="0" class="input" />
            </div>
          </div>
          <div class="controls">
            <button id="btnPump" class="btn">Pump</button>
            <button id="btnFan" class="btn">Fan</button>
            <button id="btnLight" class="btn">Light</button>
            <button id="btnMist" class="btn">Misting</button>
          </div>
          <div class="panel__meta">Actions are mocked. Hook these up to your MQTT topics later.</div>
          <div class="log" id="log"></div>
        </div>
      </section>
    </main>
  </body>
</html>